<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>í•™êµì¶•ì œ ì§€ë„</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">

<style>
  html,body { margin:0; height:100%; }
  #map { width:100%; height:100vh; }

  .switch {
    position:absolute;
    top:10px; left:10px;
    z-index:1000;
    background:white;
    padding:8px;
    border-radius:8px;
    box-shadow:0 2px 6px rgba(0,0,0,.2);
  }
  .btn {
    padding:6px 10px;
    margin:2px;
    border-radius:6px;
    background:#eee;
    font-size:13px;
    cursor:pointer;
  }
  .active { background:#bcd6ff; }
</style>
</head>
<body>

<div id="map"></div>

<div class="switch">
  <span class="btn active" onclick="loadMap(1,this)">1,2ì¸µ</span>
  <span class="btn" onclick="loadMap(2,this)">3,4ì¸µ</span>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
/* =====================================================
   âœ… 1. ì§€ë„ + ë¶€ìŠ¤ ì˜ì—­ ì •ë³´ (ì—¬ê¸°ë§Œ ìˆ˜ì •)
   ===================================================== */
const MAP_DATA = {
  1: {
    image: "maps/map1.png",
    booths: [

      {
        area: [[21,92],[25,86]],
        items: [
          {
            name: "AI Lab",
            club: "ìˆ˜í•™íƒêµ¬ë¶€ A,B / ìœµí•©ê³¼í•™íƒêµ¬ë¶€",
            poster: "posters/AI LAB1.png",
            desc: "ì •ë§ ë¬´ì„œìš´ ê·€ì‹  ë°©íƒˆì¶œ"
          }
        ]
      },

      {
        area: [[27,91],[33,86]],
        items: [
          {
            name: "ì»´í“¨í„°ì‹¤",
            club: "ì»´í“¨í„° ìœµí•© ê°œë°œë¶€ A,B",
            poster: "posters/ì»´í“¨í„°ì‹¤.png",
            desc: "í”Œë ˆì´ ê·¸ë¼ìš´ë“œ"
          }
        ]
      },

      {
        area: [[33,92],[37,86]],
        items: [
          {
            name: "ì¹´í˜ì¡´",
            club: "ë°©ì†¡ë¶€",
            poster: "posters/ì¹´í˜ì¡´.png",
            desc: "ì—´ë¦° ë…¸ë˜ë°©"
          }
        ]
      },

      {
        area: [[49,60],[53,55]],
        items: [
          {
            name: "í†µí•©ë°˜2",
            club: "ì—¬ê°€ìƒí™œë¶€",
            desc: "ì˜¤ê°ì„ ì›€ì§ì—¬ë¼~!!"
          }
        ]
      },

      {
        area: [[53,60],[56,55]],
        items: [
          {
            name: "í†µí•©ë°˜1",
            club: "ìš”ë¦¬ì¡°ë¦¬ë¶€",
            desc: "ì•„ì´ì‹± ì¿ í‚¤ ë§Œë“¤ê¸°"
          }
        ]
      },

      {
        area: [[4.5,34],[14,13]],
        items: [
          {
            name: "ì²­ëŒê´€",
            club: "ë°°ë“œë¯¼í„´ë¶€",
            poster: "posters/ì²­ëŒê´€1.png",
            desc: "ë°°ë“œë¯¼í„´ë¶€ë¥¼ ì´ê²¨ë¼"
          },
          {
            club:"í”¼íŠ¸ë‹ˆìŠ¤ë¶€ A,B",
            desc:"ë„ì „! ê¸°ë¡ ì„¸ìš°ê¸°!"
          }
        ]
      },
      {
        area: [[20,43],[26,34]],
        items: [
          {
            name: "ìŠ¤ë§ˆíŠ¸ ìœµí•©ì‹¤",
            club: "í”¼ì§€ì»¬ì»´í“¨íŒ…ë¶€",
            poster: "posters/ìŠ¤ìœµì‹¤.png",
            desc: "ë­í•˜ì§€?"
          }
        ]
      },
      {
        area: [[33.5,43],[35.8,34]],
        items: [
          {
            name: "ì˜¤í”ˆí´ë˜ìŠ¤",
            club: "ì •ì‹ ê±´ê°•ë³µì§€ì„¼í„°",
            desc: "ë©˜íƒˆê°•í™” í”„ë¡œì íŠ¸"
          }
        ]
      },
      {
        area: [[48.6,34],[52.6,29.2]],
        items: [
          {
            name: "1-7",
            club: "ì…ë¬¸ ì‚¬íšŒ íƒêµ¬ë¶€",
            desc: "ì¸ì‚¬ ì•¡ì„¸ì„œë¦¬ ë§Œë“¤ê¸°"
          }
        ]
      },
      {
        area: [[44.6,34],[48.4,29.2]],
        items: [
          {
            name: "1-8",
            club: "ì‹œì‚¬í† ë¡ ë¶€",
            poster: "posters/1-8.png",
            desc: "ì†Œí†µ ê³µì‘ì†Œ"
          }
        ]
      },
      {
        area: [[40.7,34],[44.5,29.2]],
        items: [
          {
            name: "1-9",
            club: "ë¦¬ì–¼ë¼ì´ì¦ˆ",
            poster: "posters/1-9.png",
            desc: "HOHOHOP"
          }
        ]
      },
      {
        area: [[29.6,32],[33.4,26.2]],
        items: [
          {
            name: "1-10",
            club: "ì‚¬íšŒê²½ì˜ê²½ì œë¶€",
            poster: "posters/1-10.png",
            desc: "ì‚¬ë‘í•œë‹¤. ë§Œë‘ë¥¼ ì‚¬ì£¼ê² ë‹¤"
          }
        ]
      },
      {
        area: [[18.8,32],[23.8,26.2]],
        items: [
          {
            name: "ë©”ì´ì»¤ì‹¤",
            club: "ë©”ì´ì»¤ë¶€",
            poster: "posters/ë©”ì´ì»¤.png",
            desc: "ì˜¤ê° ë©”ì´í‚¹ ë°ì´"
          }
        ]
      },
      {
        area: [[33.7,25.8],[38.2,13]],
        items: [
          {
            name: "2ì¸µ í™ˆë² ì´ìŠ¤",
            desc: "ì„¸êµë¶„ì‹"
          }
        ]
      },
      {
        area: [[52.8,12.7],[56.6,7.7]],
        items: [
          {
            name: "Wee í´ë˜ìŠ¤",
            club: "ìœ„ì‹¬ë¦¬ë¶€",
            desc: "ì„¼ì„¸Weeì…˜"
          }
        ]
      },
      {
        area: [[33.6,29],[36.6,26.2]],
        items: [
          {
            name: "ì˜¤í”ˆí´ë˜ìŠ¤",
            desc: "ëª¨ë‹¥ë¶ˆ íƒ€ë¡œ ìƒë‹´"
          }
        ]
      },
      

    ]
  },

  2: {
    image: "maps/map2.png",
    booths: [
      {
        area: [[56.8,57],[61.6,52]],
        items: [
          {
            name: "1-1",
            club: "ì˜ˆìˆ ì¢…í•©ë¶€",
            desc: "ì¹µë®¤"
          }
        ]
      },
      {
        area: [[52.3,57],[56.5,51.9]],
        items: [
          {
            name: "1-2",
            club: "ë¬¼ë¦¬ì‹¤í—˜ë¶€",
            poster: "posters/1-2.png",
            desc: "ìì„í¬ cafe"
          }
        ]
      },
      {
        area: [[46.5,57],[52,51.9]],
        items: [
          {
            name: "1-3",
            club: "í´ë¼ë¹„ìŠ¤ë¶€",
            poster: "posters/1-3.png",
            desc: "ê³ êµ¬ë§ˆ ë¹µ & ìŠ¤ì¿± ë§ˆì¼“"
          }
        ]
      },
      {
        area: [[41.7,57],[46.3,51.9]],
        items: [
          {
            name: "1-4",
            club: "ì‚¬íšŒíƒêµ¬ë¶€",
            poster: "posters/1-4.png",
            desc: "ì†Œì…œë¦¬ ë§ˆë…€ ì¹´í˜"
          }
        ]
      },
      {
        area: [[36.8,57],[41.4,51.9]],
        items: [
          {
            name: "1-5",
            club: "êµìœ¡ì‚¬ë‘ë¶€",
            poster: "posters/1-5.png",
            desc: "ë°© íƒˆì¶œ"
          }
        ]
      },
      {
        area: [[52.3,82.5],[56.5,76.6]],
        items: [
          {
            name: "2-6",
            club: "ê²½ì œê²½ì˜ì°½ì˜ë¶€",
            poster: "posters/2-6.png",
            desc: "ëª¨ë‘ì§±~í•˜ì´!"
          }
        ]
      },
      {
        area: [[46.5,82.5],[52.1,76.6]],
        items: [
          {
            name: "2-7",
            club: "ê²½ì°°í–‰ì •ë¦¬ë”ì‹­ë¶€",
            poster: "posters/2-7.png",
            desc: "ê³µ ê³µ ì¹  ë¹µ"
          }
        ]
      },
      {
        area: [[41,82.5],[46.4,76.6]],
        items: [
          {
            name: "2-8",
            club: "ì—­ì‚¬ì½˜í…ì¸ ë¶€",
            poster: "posters/2-8.png",
            desc: "ì„¸êµ ë¯¼ì†ì´Œ"
          }
        ]
      },
      {
        area: [[35.6,82.4],[41,76.6]],
        items: [
          {
            name: "2-9",
            club: "ê·¸ë¦°ë‚˜ë˜ ë³´ê±´ê°„í˜¸ë¶€",
            poster: "posters/2-9.png",
            desc: "ë¹„ëˆ„ê³µì˜ˆì™€ ê½ƒë°°ë‹¬"
          }
        ]
      },
      {
        area: [[22.2,79.6],[26.7,73]],
        items: [
          {
            name: "2-10",
            club: "ìƒëª…í™”í•™ìœµí•©ë¶€",
            poster: "posters/2-10.png",
            desc: "ë§ˆë²•í•™êµ í™”í•™ì—°ê¸ˆìˆ ì‚¬"
          }
        ]
      },
      {
        area: [[8.9,79.6],[14.8,73.1]],
        items: [
          {
            name: "ìƒë¬¼í™”í•™ì‹¤",
            club: "ë¼ì´í”„ì‚¬ì´ì–¸ìŠ¤ íƒêµ¬ë¶€",
            poster: "posters/ìƒë¬¼í™”í•™ì‹¤.png",
            desc: "ë¬¼ë‘ ë¬¼ë‘ ë¬¼ë¼ìŠ¤í‹±"
          }
        ]
      },
      {
        area: [[27,79.6],[29.8,57.4]],
        items: [
          {
            name: "ì„ì§„ì•„í™€ A,B",
            club: "í¬ìŠ¤ë©ë¶€",
            poster: "posters/ì„ì§„ì•„í™€.png",
            desc: "ë³¼ë§ê³¼ ì‚¬ê²©"
          }
        ]
      },
      {
        area: [[24.8,34.7],[28.1,28]],
        items: [
          {
            name: "ë¸”ë£¨ìŠ¤ì¹´ì´ B",
            poster: "posters/ë¸”ë£¨ìŠ¤ì¹´ì´B.png",
            desc: "ì²­ëŒ ë„¤ì»·"
          }
        ]
      },
      {
        area: [[7.2,34.6],[13.1,28]],
        items: [
          {
            name: "ìŒì•…ì‹¤",
            club: "ë®¤ì§€ì»¬ì œì‘ë¶€",
            poster: "posters/ìŒì•…ì‹¤.png",
            desc: "ì°½ì‘ ë®¤ì§€ì»¬-ê¿ˆì„ ë…¸ë˜í•˜ë‹¤"
          }
        ]
      },
      {
        area: [[9.2,43],[15.1,37.4]],
        items: [
          {
            name: "ë¯¸ìˆ ì‹¤",
            club: "ë¯¸ìˆ ë¶€",
            poster: "posters/ë¯¸ìˆ ì‹¤.png",
            desc: "ì£¼í˜•ì˜ ë¯¸ìˆ ê³µë°©"
          }
        ]
      },
      {
        area: [[24.8,27.8],[28.1,21.6]],
        items: [
          {
            name: "ë¸”ë£¨ìŠ¤ì¹´ì´ A",
            club: "ì»¤ë¨¸ìŠ¤ ë§ˆì¼€íŒ…ë¶€",
            poster: "posters/ë¸”ë£¨ìŠ¤ì¹´ì´ A.png",
            desc: "ì„¸êµ ì˜¤ë½ì‹¤"
          }
        ]
      },
      {
        area: [[24.8,43.1],[28.1,37.4]],
        items: [
          {
            name: "ë¸”ë£¨ìŠ¤ì¹´ì´ C",
            club: "ë¬¸í™”ì½˜í…ì¸ ì œì‘ë¶€",
            poster: "posters/ë¸”ë£¨ìŠ¤ì¹´ì´c.png",
            desc: "ì²­ì•¼ë³„ì „(é‘å¤œåˆ¥å±•)"
          }
        ]
      },
      {
        area: [[24.8,27.8],[28.1,21.6]],
        items: [
          {
            name: "ë¸”ë£¨ìŠ¤ì¹´ì´ A",
            club: "ì»¤ë¨¸ìŠ¤ ë§ˆì¼€íŒ…ë¶€",
            poster: "posters/ë¸”ë£¨ìŠ¤ì¹´ì´ A.png",
            desc: "ì„¸êµ ì˜¤ë½ì‹¤"
          }
        ]
      },
      {
        area: [[45.3,12.6],[50.9,7.3]],
        items: [
          {
            name: "2-3",
            club: "ë“œë¦¼ì—ì–´ë¶€",
            poster: "posters/2-3.png",
            desc: "Ready to take orr!"
          }
        ]
      },
      {
        area: [[50.9,12.6],[60.2,7.2]],
        items: [
          {
            name: "2-1,2-2",
            club: "ë©”ë””ì»¬ í”ŒëŸ¬ìŠ¤ë¶€",
            poster: "posters/2-2.png",
            desc: "ê³¼í•™ í€´ì¦ˆ í’€ê³  ë°©íƒˆì¶œ"
          },
          {
            club: "ìƒëª…ê³¼í•™ì—°êµ¬ë¶€",
            poster: "posters/2-1.png",
          }
        ]
      },
      {
        area: [[39.9,12.6],[45.2,7.3]],
        items: [
          {
            name: "2-4",
            club: "ë¯¸ë””ì–´ì½˜í…ì¸ ë¶€",
            poster: "posters/2-4.png",
            desc: "ì„¸êµ ì•¼ì‹œì¥"
          }
        ]
      },
      {
        area: [[34.6,12.6],[39.9,7.3]],
        items: [
          {
            name: "2-5",
            club: "ì—ì–´ë¡œíŒŒì´ë¶€",
            poster: "posters/2-5.png",
            desc: "ì—ì–´ë¡œ ì±Œë¦°ì§€"
          }
        ]
      }
    ]
  }
};


/* =====================================================
   âŒ ì•„ë˜ëŠ” ìˆ˜ì • ì•ˆ í•´ë„ ë¨
   ===================================================== */

let map = L.map('map', {
  crs: L.CRS.Simple,
  minZoom: -2,
  maxZoom: 4,
  attributionControl:false
});

let imageLayer;
let boothLayer = L.layerGroup().addTo(map);
let imgW, imgH;

// í¼ì„¼íŠ¸ â†’ Leaflet ì¢Œí‘œ
function toLatLng(x,y){
  return L.latLng((y/100)*imgH,(x/100)*imgW);
}

// ì§€ë„ ë¶ˆëŸ¬ì˜¤ê¸°
function loadMap(num,btn){
  const data = MAP_DATA[num];

  document.querySelectorAll('.btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');

  const img = new Image();
  img.src = data.image;

  img.onload = ()=>{
    imgW = img.naturalWidth;
    imgH = img.naturalHeight;
    const bounds = [[0,0],[imgH,imgW]];

    if(imageLayer) map.removeLayer(imageLayer);
    boothLayer.clearLayers();

    imageLayer = L.imageOverlay(data.image,bounds).addTo(map);
    map.fitBounds(bounds);

    // âœ… ë¶€ìŠ¤ ì˜ì—­(ì‚¬ê°í˜•) ìƒì„±
    data.booths.forEach(b=>{
      const p1 = toLatLng(b.area[0][0], b.area[0][1]);
      const p2 = toLatLng(b.area[1][0], b.area[1][1]);

      const rect = L.rectangle([p1,p2], {
        color: "transparent", // ğŸ”§ í…ŒìŠ¤íŠ¸ ì¤‘ì—” "red" ì¶”ì²œ
        weight: 0,
        fillOpacity: 0
      }).addTo(boothLayer);

      rect.bindPopup(
        b.items.map(item => `
            <div style="margin-bottom:14px;">

                ${item.name ? `<b>${item.name}</b><br>` : ``}

                ${item.club ? `
                    <span style="font-size:13px; color:#555;">
                        ë™ì•„ë¦¬: ${item.club}
                    </span><br><br>
                ` : ``}

                ${item.poster ? `
                    <img src="${item.poster}" style="width:220px"><br>
                ` : ``}

                ${item.desc ? `
                    <div>${item.desc}</div>
                ` : ``}

            </div>
            <hr>
        `).join('')
);


    });
  };
}

// ì²˜ìŒ ì§€ë„
loadMap(1, document.querySelector('.btn'));


</script>

</body>
</html>
